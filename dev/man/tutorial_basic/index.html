<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic · DLMReader</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DLMReader</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Tutorial</span><ul><li class="is-active"><a class="tocitem" href>Basic</a><ul class="internal"><li><a class="tocitem" href="#Reading-a-csv-file"><span>Reading a csv file</span></a></li><li><a class="tocitem" href="#Dealing-with-Date-and-Time"><span>Dealing with Date and Time</span></a></li><li><a class="tocitem" href="#Using-&quot;informats&quot;"><span>Using &quot;informats&quot;</span></a></li><li><a class="tocitem" href="#Writing-a-data-set-to-disk"><span>Writing a data set to disk</span></a></li></ul></li><li><a class="tocitem" href="../tutorial_adv/">Advanced</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../read/">Reading and Writing</a></li><li><a class="tocitem" href="../informat/">Informats</a></li></ul></li><li><a class="tocitem" href="../gallery/">Gallery</a></li><li><a class="tocitem" href="../performance/">Performance Tips</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorial</a></li><li class="is-active"><a href>Basic</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sl-solution/DLMReader.jl/blob/master/docs/src/man/tutorial_basic.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial-Basics"><a class="docs-heading-anchor" href="#Tutorial-Basics">Tutorial - Basics</a><a id="Tutorial-Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-Basics" title="Permalink"></a></h1><p>This section provides a tutorial for using the <code>DLMReader</code> package to read a delimited file into <code>Julia</code>. To start using the package enter the following expression in a <code>Julia</code> session</p><pre><code class="language-julia hljs">julia&gt; using DLMReader</code></pre><blockquote><p>If you have not installed the package yet, you will be prompt to do it so.</p></blockquote><h2 id="Reading-a-csv-file"><a class="docs-heading-anchor" href="#Reading-a-csv-file">Reading a csv file</a><a id="Reading-a-csv-file-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-a-csv-file" title="Permalink"></a></h2><p>The <code>tutorial_1.csv</code> file is available as part of the <code>DLMReader</code> package and the following expression creates a file reference to its location,</p><pre><code class="language-julia hljs">julia&gt; fname = joinpath(dirname(pathof(DLMReader)),
                                &quot;..&quot;, &quot;docs&quot;, &quot;src&quot;, &quot;assets&quot;, &quot;tutorial_1.csv&quot;
                            );</code></pre><p>The <code>filereader</code> function is an exported function for reading delimited files into <code>Julia</code>. By default, the <code>filereader</code> function uses comma to separate values in a file, however, the delimiter of <code>tutorial_file</code> is &quot;<code>;</code>&quot;, so we pass this to the <code>filereader</code> function via the <code>delimiter</code> keyword argument.</p><pre><code class="language-julia hljs">julia&gt; tutorial = filereader(fname, delimiter = &#39;;&#39;)
3×4 Dataset
 Row │ x1        x2        x3|value  date       
     │ identity  identity  identity  identity   
     │ Int64?    String?   String?   String?    
─────┼──────────────────────────────────────────
   1 │        1  2,30      ab|2      2022-01-02
   2 │       10  -2,10     cd|3      2022-19-20
   3 │        4  1,34      dd|       2022-02-13</code></pre><blockquote><p>Note that you should pass the file delimiter as <code>Char</code> to the <code>delimiter</code> keyword arguments. </p></blockquote><p>By default, the <code>filereader</code> function assumes that the first line of the file contains the column names, and it uses this to create column name for the output data set as shown in this example.</p><p>The output data set is a <code>Dataset</code> which is a special type for working with tabular data in <code>Julia</code>, see the <a href="https://github.com/sl-solution/InMemoryDatasets.jl">InMemoryDatasets.jl</a> package for more information about working with tabular data in <code>Julia</code>.</p><p>From the output data set, we observe that the third column is actually a mix of two columns which are separated by <code>|</code>. This means that our delimited file is using alternative delimiters for separating values, so we should provide this information to the <code>filereader</code> function to help it correctly parse the input file. To use alternative delimiters we must pass a vector of delimiters to the <code>delimiter</code> keyword argument:</p><pre><code class="language-julia hljs">julia&gt; tutorial = filereader(fname, delimiter = [&#39;;&#39;,&#39;|&#39;])
3×5 Dataset
 Row │ x1        x2        x3        value     date       
     │ identity  identity  identity  identity  identity   
     │ Int64?    String?   String?   Int64?    String?    
─────┼────────────────────────────────────────────────────
   1 │        1  2,30      ab               2  2022-01-02
   2 │       10  -2,10     cd               3  2022-19-20
   3 │        4  1,34      dd         missing  2022-02-13</code></pre><p>Note that by passing <code>[&#39;;&#39;, &#39;|&#39;]</code> as delimiter, <code>filereader</code> correctly reads the <code>:x3</code> and <code>:value</code> columns into <code>Julia</code>.</p><h2 id="Dealing-with-Date-and-Time"><a class="docs-heading-anchor" href="#Dealing-with-Date-and-Time">Dealing with Date and Time</a><a id="Dealing-with-Date-and-Time-1"></a><a class="docs-heading-anchor-permalink" href="#Dealing-with-Date-and-Time" title="Permalink"></a></h2><p>The last column of the <code>tutorial_1.csv</code> file is a <code>Date</code> type, however, it is read as <code>String</code>. This is the default behaviour of <code>filereader</code>. User may force the type of a specific column by passing a vector or a <code>Dict</code> as the <code>types</code> keyword argument. If user is willing to specify every column&#39;s type, s/he should use a vector of types with the same length of the number of columns as the value of the <code>types</code> keyword argument, e.g. in the above example <code>[Int, String, String, Int, Date]</code> would be fine, however, since we are only interested to correct the type of the fifth column, we can pass it in <code>Dict</code> to the <code>types</code> keyword argument:</p><pre><code class="language-julia hljs">julia&gt; tutorial = filereader(fname, delimiter = [&#39;;&#39;,&#39;|&#39;], types = Dict(5 =&gt; Date))
┌ Warning: There are problems with parsing file at line 3 (observation 2) : 
│ Column 5 : date : Read from buffer (&quot;2022-19-20&quot;)
│ the values are set as missing.
│ MORE DETAILS: 
│ x1::Int64 = 10, x2::String = -2,10, x3::String = cd, value::Int64 = 3, date::Date = missing
│ 10;-2,10;cd|3;2022-19-20
└ @ DLMReader ...
3×5 Dataset
 Row │ x1        x2        x3        value     date       
     │ identity  identity  identity  identity  identity   
     │ Int64?    String?   String?   Int64?    Date?      
─────┼────────────────────────────────────────────────────
   1 │        1  2,30      ab               2  2022-01-02
   2 │       10  -2,10     cd               3  missing    
   3 │        4  1,34      dd         missing  2022-02-13</code></pre><p>By default, the <code>filereader</code> function assumes that the column with the <code>Date</code> type are in the standard format, i.e. <code>yyyy-mm-dd</code>, and it will try to parse each value using the date format, however, if a value is not parsable <code>filereader</code> parses it as <code>missing</code>, and it shows a warning message to indicate that the parser fails to parse the specific value and provide some information about this. If the value should be treated as <code>missing</code>, user may ignore the warning message. For instance, in the above example, the issue is due to the fact that <code>19</code> is not a correct value for a month, so it must be a data entry error.</p><p>If values for date(time) are not represented as <code>yyyy-mm-dd</code> format, user can use the <code>dtformat</code> keyword argument to provide the right date format of a specific column. User must pass a dictionary of date format for specifying the date format:</p><pre><code class="language-julia hljs">julia&gt; tutorial = filereader(fname, delimiter = [&#39;;&#39;,&#39;|&#39;], types = Dict(5 =&gt; Date), dtformat = Dict(5 =&gt; dateformat&quot;y-m-d&quot;));</code></pre><h2 id="Using-&quot;informats&quot;"><a class="docs-heading-anchor" href="#Using-&quot;informats&quot;">Using &quot;informats&quot;</a><a id="Using-&quot;informats&quot;-1"></a><a class="docs-heading-anchor-permalink" href="#Using-&quot;informats&quot;" title="Permalink"></a></h2><p>The <code>DLMReader</code> package provides special functionality, called <code>informat</code>, to allow modification of the raw text before the parsing phase, i.e. <code>informat</code> is a special function which will be called on the raw text of a value before sending the text to the parser. The <code>DLMReader</code> package is shipped with some predefined informats, however, power users can define their own informats for special purposes.</p><p>We are going to use one of the predefined informats to parse the second column of <code>tutorial_1.csv</code> file. The second column of <code>tutorial_1.csv</code> file uses &quot;<code>,</code>&quot; as decimal point in numbers, this is a common practice in some european countries. To parse this column correctly, we can call the <code>COMMAX!</code> informat before parsing its values. The <code>COMMAX!</code> informat converts &quot;<code>,</code>&quot; to decimal points, and removes &quot;<code>.</code>&quot; (thousand separator) and &quot;<code>€</code>&quot; (U+20AC) from the numbers.</p><pre><code class="language-julia hljs">julia&gt; tutorial = filereader(fname, delimiter = [&#39;;&#39;,&#39;|&#39;], types = Dict(5 =&gt; Date), informat = Dict(2 =&gt; COMMAX!))
┌ Warning: There are problems with parsing file at line 3 (observation 2) :  
│ Column 5 : date : Read from buffer (&quot;2022-19-20&quot;)
│ the values are set as missing.
│ MORE DETAILS: 
│ x1::Int64 = 10, x2::Float64 = -2.1, x3::String = cd, value::Int64 = 3, date::Date = missing
│ 10;-2.10;cd|3;2022-19-20
└ @ DLMReader ...
3×5 Dataset
 Row │ x1        x2        x3        value     date       
     │ identity  identity  identity  identity  identity   
     │ Int64?    Float64?  String?   Int64?    Date?      
─────┼────────────────────────────────────────────────────
   1 │        1      2.3   ab               2  2022-01-02
   2 │       10     -2.1   cd               3  missing    
   3 │        4      1.34  dd         missing  2022-02-13</code></pre><h2 id="Writing-a-data-set-to-disk"><a class="docs-heading-anchor" href="#Writing-a-data-set-to-disk">Writing a data set to disk</a><a id="Writing-a-data-set-to-disk-1"></a><a class="docs-heading-anchor-permalink" href="#Writing-a-data-set-to-disk" title="Permalink"></a></h2><p>The <code>DLMReader</code> package provides the <code>filewriter</code> function for writing a data set as a flat file into disk. The function uses comma as default delimiter, however, the user can pass any other delimiter via the <code>delimiter</code> keyword argument.</p><pre><code class="language-julia hljs">julia&gt; filewriter(&quot;t_file.csv&quot;, tutorial)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Introduction</a><a class="docs-footer-nextpage" href="../tutorial_adv/">Advanced »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.17 on <span class="colophon-date" title="Thursday 19 May 2022 09:13">Thursday 19 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
